---
parent: "AQO - настройки"
title: "Параметры по умолчанию"
nav_order: 04
permalink: /ru/aqo/defaults/
---

### Параметры по умолчанию

Если в пакете есть всего одна настройка ее можно создать следующим более лаконичным образом

```abap
zcl_aqo_option=>create( io_data = me )
```

### Пакет по умолчанию

Название пакета `IV_PACKAGE_ID`  можно не передавать в метод `zcl_aqo_option=>create`, в этом случае он будет равен пакету вызываемого места.

При перемещении класса в другой пакет параметр `IV_PACKAGE_ID` можно будет указать явно

### OPTION_ID

Зачастую параметр `OPTION_ID` не несет какой-либо дополнительной смысловой нагрузки.  Для небольших разработок он и не важен и его можно не указывать. В этому случае  параметр `OPTION_ID` будет равен значению `'DEFAULT'`. ![image](https://user-images.githubusercontent.com/36256417/159257521-dc2d2cde-4521-471b-88e7-78609f3d64e3.png)

### IV_REPAIR

Режим проверки настройки на консистентность `IV_REPAIR = abap_true` теперь постоянно включен

И необходимость в данном флаге также отпала

### TRY - CATCH

Сейчас класс `ZCX_AQO_EXCEPTION` наследует от `CX_NO_CHECK` поэтому обработка исключительной ситуации необязательна.  Редактор не выдает предупреждений и сам класс `ZCX_AQO_EXCEPTION` нельзя использовать в сигнатуре методов.

![image](https://user-images.githubusercontent.com/36256417/159420760-04999a6a-7b1b-419b-b932-396dc42515e8.png)

В каком-то смысле блок `TRY - CATCH` не желателен так как простой вывод сообщения `DISPLAY  LIKE 'E'`зачастую просто игнорируется. Не обработанное исключение `ZCX_AQO_EXCEPTION` при отсутствии настройки в БД в продуктиве или ее отличии ее определения от ABAP кода приведет к дампу который проще обнаружить.

Если же определение настройки отличается в DEV системе выйдет подобное окно сохранения

### Окно изменений

![image](https://user-images.githubusercontent.com/36256417/159464121-75509487-d831-4e46-8ef6-7ac1abd046fa.png)

Оно отображает внесенные изменения в настройку. При этом `- Deleted` будет работать только для вложенных полей, те для полей таблицы `TAB_OPT`.  При попытки удалить из кода определение всей таблицы `TAB_OPT` или любого другого верхнеуровневого **невложенного** поля возникнет исключение `ZCX_AQO_EXCEPTION`

![image](https://user-images.githubusercontent.com/36256417/159476233-5234ceee-800c-4561-8f17-8e2ade14ee52.png)
Что означает, что вы должны удалить поля верхнего уровня самостоятельно.

### Автоматическая проверка класса

Для настроек на основе класса теперь можно просто активировать класс и не создавать его инстанс через **F8** в редакторе кода. После активации класса существующую настройку можно открыть в редакторе `ZAQO_EDITOR_OLD`. При этом проверка мэпинга настройки с определением класса произойдет автоматический и окно с изменениями отобразиться при открытии настройки.

Отключить данное поведение можно установив данный переключатель

![image](https://user-images.githubusercontent.com/36256417/159476712-f2ad4399-eaac-407b-afca-6308c343852b.png)
